#function cd () {
#if [[ -z $2 ]]; then
  #if [[ -f $1 ]]; then
    #builtin cd $1:h
  #else
    #builtin cd $1
  #fi
#else
  #if [[ -z $3 ]]; then
    #builtin cd $1 $2
  #else
    #echo cd: too many arguments
  #fi
#fi
#}

xpaste(){
xsel -o >> $1
}

wiki() { w=$(dig +short txt $1.wp.dg.cx); echo $w }

less_vim() {
    =vim -R \
    -c 'let no_plugin_maps = 1' \
    -c 'set scrolloff=5' \
    -c 'runtime! macros/less.vim' \
    -c 'set foldlevel=999' \
    -c 'set mouse=h' \
    -c 'set nonu' \
    -c 'nmap <ESC>u :nohlsearch<cr>' \
    "$@"
}

mangrep(){
    man "$1" | grep -5 "$2"
}


help(){  run-help "$@" || less_vim -c ":/$@/" ~/.zshguide.txt }

disassemble() {
        emulate -L zsh
            gcc -pipe -S -o - -O -g $* | as -aldh -o /dev/null
        }

bash_source() {
  alias shopt=':'
  alias _expand=_bash_expand
  alias _complete=_bash_comp
  emulate -L sh
  setopt kshglob noshglob braceexpand
  source "$@"
}

extract() {
   if [[ -z "$1" ]] ; then
       print -P "usage: \e[1;36mextract\e[1;0m < filename >"
       print -P "       Extract the file specified based on the extension"
   elif [[ -f $1 ]] ; then
       case ${(L)1} in
           *.tar.bz2)  tar -jxvf $1    ;;
           *.tar.xz|*.xz)   tar -xvf $1    ;;
           *.tar.gz)   tar -zxvf $1    ;;
           *.bz2)      bunzip2 $1       ;;
           *.gz)       gunzip $1       ;;
           *.jar)      unzip $1       ;;
           *.rar)      unrar x $1       ;;
           *.tar)      tar -xvf $1       ;;
           *.tbz2)     tar -jxvf $1    ;;
           *.tgz)      tar -zxvf $1    ;;
           *.zip)      unzip $1          ;;
           *.Z)        uncompress $1    ;;
           *)          echo "Unable to extract '$1' :: Unknown extension"
       esac
   else
       echo "File ('$1') does not exist!"
   fi

}

pacnews()
{
    for n in /etc/**/*.pacnew; do 
        if [[ -r ${n%.*} ]]; then 
            sudo vimdiff $n ${n%.*} &&
            echo "Replace?"; read -q && sudo mv $n ${n%.*}
        fi 
    done
}
